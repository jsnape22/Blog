---
title: ParkRunning and Crosstalking ! Interactive graphs + Linear Regression in R
author: Jenny
date: '2018-06-10'
slug: park-run-results
categories: [
]
tags: [
]
thumbnailImagePosition: "left"
thumbnailImage: "http://res.cloudinary.com/jsnape22/image/upload/v1528664413/parkrun/new-parkrun-partnership-2.jpg"
summary: I am currently in training for a 10km running race. As part of my training I have started doing the park run every saturday morning to get some speed practice. This saturday I did the Brockwell park run in south london and got my second fastest parkrun time of 26 minutes 47 seconds
---

<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/plotly-binding/plotly.js"></script>
<script src="/rmarkdown-libs/typedarray/typedarray.min.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
<script src="/rmarkdown-libs/crosstalk/js/crosstalk.min.js"></script>
<link href="/rmarkdown-libs/plotlyjs/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="/rmarkdown-libs/plotlyjs/plotly-latest.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="/rmarkdown-libs/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
<script src="/rmarkdown-libs/bootstrap/js/bootstrap.min.js"></script>


<div id="park-run-results-brockwell-park-10th-june" class="section level2">
<h2>Park Run Results : Brockwell park 10th June</h2>
<p>I am currently in training for a 10km running race. As part of my training I have started doing the park run every saturday morning to get some speed practice. This saturday I did the Brockwell park run in south london and got my second fastest parkrun time of 26 minutes 47 seconds. Park run publishes the complete results each week showing the times of all finishers including details about their gender, age band and their personal best for the course. I decided to use this data to make some charts of the results this week.</p>
<div id="interactive-mapping" class="section level3">
<h3>Interactive Mapping</h3>
<p>At work I have recently come across interactive mapping packages “plotly” and “crosstalk”. These are relatively new packages that create interative charts (similar to those in Rshiny) but can be hosted in a html webpage without the need for a shiny server. This makes it easier to share interactive graphs as all you need is a single html document.</p>
</div>
<div id="finishing-times-men-vs-women-plotly" class="section level3">
<h3>Finishing times: Men vs Women | Plotly</h3>
<p>Plotly is a graphing library that makes interactive, publication-quality graphs online. Find out more <a href="https://plot.ly/r/">here</a>. It is easy to convert a gggplot to a plotly graph using the ggplotly function.</p>
<pre class="r"><code>p=ggplot(ParkRun, aes(x = Time_mins, fill = Gender)) +
        geom_histogram( binwidth = 1,
                       position=&quot;identity&quot;, alpha=0.6)
ggplotly(p)</code></pre>
<div id="23381efda2cf" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="23381efda2cf">{"x":{"data":[{"orientation":"v","width":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39],"y":[0,0,0,0,0,3,7,7,12,8,15,18,10,13,10,6,4,5,3,2,3,0,2,1],"text":["count:  0<br />Time_mins: 16<br />Gender: F","count:  0<br />Time_mins: 17<br />Gender: F","count:  0<br />Time_mins: 18<br />Gender: F","count:  0<br />Time_mins: 19<br />Gender: F","count:  0<br />Time_mins: 20<br />Gender: F","count:  3<br />Time_mins: 21<br />Gender: F","count:  7<br />Time_mins: 22<br />Gender: F","count:  7<br />Time_mins: 23<br />Gender: F","count: 12<br />Time_mins: 24<br />Gender: F","count:  8<br />Time_mins: 25<br />Gender: F","count: 15<br />Time_mins: 26<br />Gender: F","count: 18<br />Time_mins: 27<br />Gender: F","count: 10<br />Time_mins: 28<br />Gender: F","count: 13<br />Time_mins: 29<br />Gender: F","count: 10<br />Time_mins: 30<br />Gender: F","count:  6<br />Time_mins: 31<br />Gender: F","count:  4<br />Time_mins: 32<br />Gender: F","count:  5<br />Time_mins: 33<br />Gender: F","count:  3<br />Time_mins: 34<br />Gender: F","count:  2<br />Time_mins: 35<br />Gender: F","count:  3<br />Time_mins: 36<br />Gender: F","count:  0<br />Time_mins: 37<br />Gender: F","count:  2<br />Time_mins: 38<br />Gender: F","count:  1<br />Time_mins: 39<br />Gender: F"],"type":"bar","marker":{"autocolorscale":false,"color":"rgba(248,118,109,0.6)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"F","legendgroup":"F","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39],"y":[1,2,2,9,10,17,18,16,14,11,10,10,3,7,2,2,1,0,2,0,0,1,0,1],"text":["count:  1<br />Time_mins: 16<br />Gender: M","count:  2<br />Time_mins: 17<br />Gender: M","count:  2<br />Time_mins: 18<br />Gender: M","count:  9<br />Time_mins: 19<br />Gender: M","count: 10<br />Time_mins: 20<br />Gender: M","count: 17<br />Time_mins: 21<br />Gender: M","count: 18<br />Time_mins: 22<br />Gender: M","count: 16<br />Time_mins: 23<br />Gender: M","count: 14<br />Time_mins: 24<br />Gender: M","count: 11<br />Time_mins: 25<br />Gender: M","count: 10<br />Time_mins: 26<br />Gender: M","count: 10<br />Time_mins: 27<br />Gender: M","count:  3<br />Time_mins: 28<br />Gender: M","count:  7<br />Time_mins: 29<br />Gender: M","count:  2<br />Time_mins: 30<br />Gender: M","count:  2<br />Time_mins: 31<br />Gender: M","count:  1<br />Time_mins: 32<br />Gender: M","count:  0<br />Time_mins: 33<br />Gender: M","count:  2<br />Time_mins: 34<br />Gender: M","count:  0<br />Time_mins: 35<br />Gender: M","count:  0<br />Time_mins: 36<br />Gender: M","count:  1<br />Time_mins: 37<br />Gender: M","count:  0<br />Time_mins: 38<br />Gender: M","count:  1<br />Time_mins: 39<br />Gender: M"],"type":"bar","marker":{"autocolorscale":false,"color":"rgba(0,191,196,0.6)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"M","legendgroup":"M","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"type":"linear","autorange":false,"tickmode":"array","range":[14.3,40.7],"ticktext":["15","20","25","30","35","40"],"tickvals":[15,20,25,30,35,40],"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"Time_mins","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"type":"linear","autorange":false,"tickmode":"array","range":[-0.9,18.9],"ticktext":["0","5","10","15"],"tickvals":[0,5,10,15],"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"count","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"y":0.913385826771654,"traceorder":"reversed"},"annotations":[{"text":"Gender","x":1.02,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"left","yanchor":"bottom","legendTitle":true}],"barmode":"overlay","bargap":0,"hovermode":"closest"},"source":"A","attrs":{"233843ef7931":{"x":{},"fill":{},"type":"ggplotly"}},"cur_data":"233843ef7931","visdat":{"233843ef7931":["function (y) ","x"]},"config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
</div>
<div id="finishing-times-vs-number-of-runs-crosstalk" class="section level3">
<h3>Finishing times vs Number of Runs | CrossTalk</h3>
<p>Crosstalk adds interactivity to HTML widgets. This means it works with the plotly graphs as shown below. The dataset you want to use has to be converted to a shared data enviroment and then it can be linked with a selecter (here I have checkbox). Note there is no correlation between Number of park Runs and time! Find out more <a href="https://rstudio.github.io/crosstalk/">here</a>.</p>
<pre class="r"><code>shared_PR &lt;- SharedData$new(ParkRun)
bscols(widths = c(3,NA,NA),
  list(
    filter_checkbox(&quot;Gender&quot;, &quot;Gender&quot;, shared_PR, ~Gender, inline = TRUE)
  ),
  plot_ly(data = shared_PR, x = ~Time_mins, y = ~`Number of Runs`, color = ~Gender)
)</code></pre>
<div class="container-fluid crosstalk-bscols">
<div class="fluid-row">
<div class="col-xs-3">
<div id="Gender" class="form-group crosstalk-input-checkboxgroup crosstalk-input">
<label class="control-label" for="Gender">Gender</label>
<div class="crosstalk-options-group">
<label class="checkbox-inline">
<input type="checkbox" name="Gender" value="F"/>
<span>F</span>
</label>
<label class="checkbox-inline">
<input type="checkbox" name="Gender" value="M"/>
<span>M</span>
</label>
</div>
<script type="application/json" data-for="Gender">{
  "map": {
    "F": ["40", "44", "49", "65", "71", "75", "81", "83", "85", "88", "103", "105", "110", "114", "117", "120", "122", "127", "134", "137", "140", "142", "143", "144", "146", "148", "149", "152", "158", "160", "162", "168", "174", "175", "178", "179", "187", "190", "195", "199", "200", "201", "206", "208", "211", "212", "215", "217", "219", "220", "222", "223", "226", "227", "232", "233", "234", "235", "237", "238", "239", "240", "246", "247", "248", "250", "251", "252", "255", "256", "261", "263", "266", "269", "271", "272", "274", "278", "279", "280", "283", "284", "285", "287", "291", "292", "293", "294", "295", "298", "302", "305", "310", "313", "314", "316", "319", "320", "321", "322", "326", "330", "331", "334", "336", "337", "338", "340", "341", "343", "348", "349", "350", "352", "353", "354", "356", "360", "364", "367", "369", "370", "371", "372", "373", "374", "379", "381", "383"],
    "M": ["1", "2", "3", "5", "6", "7", "8", "9", "10", "11", "13", "14", "16", "17", "20", "21", "22", "23", "24", "26", "27", "28", "29", "30", "34", "35", "36", "37", "38", "39", "42", "43", "45", "47", "48", "50", "51", "52", "53", "55", "56", "58", "62", "64", "67", "70", "72", "73", "74", "76", "77", "78", "79", "82", "84", "86", "87", "91", "92", "93", "96", "97", "98", "99", "106", "107", "108", "111", "113", "116", "118", "119", "121", "124", "125", "126", "129", "130", "131", "132", "135", "136", "145", "147", "151", "154", "155", "156", "157", "159", "161", "165", "166", "170", "173", "177", "180", "183", "184", "188", "191", "193", "203", "205", "207", "210", "213", "214", "216", "218", "224", "229", "231", "236", "244", "245", "249", "253", "257", "259", "262", "270", "282", "286", "299", "300", "301", "303", "308", "309", "315", "324", "333", "342", "351", "366", "368", "378", "382"]
  },
  "group": ["SharedData1644f27e"]
}</script>
</div>
</div>
<div class="col-xs-9">
<div id="23382e6e9c31" style="width:100%;height:400px;" class="plotly html-widget"></div>
<script type="application/json" data-for="23382e6e9c31">{"x":{"visdat":{"233842506e22":["function () ","plotlyVisDat"]},"cur_data":"233842506e22","attrs":{"233842506e22":{"x":{},"y":{},"color":{},"alpha":1,"sizes":[10,100]}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"title":"Time_mins"},"yaxis":{"domain":[0,1],"title":"`Number of Runs`"},"dragmode":"zoom","hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[20.9666666666667,21.1166666666667,21.35,21.7833333333333,21.9333333333333,22.05,22.2,22.2333333333333,22.25,22.3166666666667,22.8333333333333,22.8666666666667,23.0833333333333,23.1333333333333,23.2833333333333,23.3333333333333,23.4166666666667,23.5833333333333,23.85,23.9666666666667,24.1,24.1166666666667,24.1333333333333,24.15,24.2,24.2666666666667,24.3166666666667,24.3833333333333,24.4833333333333,24.5333333333333,24.5833333333333,24.8,25.1166666666667,25.1333333333333,25.1666666666667,25.1833333333333,25.4833333333333,25.5166666666667,25.65,25.8,25.8166666666667,25.8333333333333,26.1833333333333,26.25,26.2833333333333,26.3,26.3166666666667,26.3333333333333,26.3666666666667,26.45,26.4833333333333,26.4833333333333,26.5666666666667,26.6166666666667,26.7333333333333,26.75,26.7666666666667,26.7833333333333,26.8,26.8166666666667,26.8333333333333,26.85,26.9833333333333,27,27.0166666666667,27.0666666666667,27.0833333333333,27.15,27.2166666666667,27.2333333333333,27.5833333333333,27.6833333333333,27.8333333333333,27.8833333333333,27.9833333333333,28,28.1,28.3166666666667,28.3666666666667,28.4666666666667,28.5666666666667,28.5666666666667,28.6166666666667,28.6666666666667,28.8833333333333,28.9166666666667,28.9333333333333,28.9666666666667,28.9833333333333,29.0333333333333,29.1333333333333,29.2166666666667,29.4166666666667,29.5833333333333,29.6,29.6666666666667,29.75,29.7666666666667,29.8,29.8666666666667,30.0833333333333,30.35,30.3666666666667,30.85,31.0166666666667,31.0833333333333,31.15,31.3166666666667,31.4333333333333,31.5666666666667,31.9833333333333,32.0333333333333,32.3833333333333,32.6333333333333,32.6666666666667,32.6666666666667,32.8,33.0166666666667,33.5833333333333,34.0666666666667,34.4333333333333,34.8,35.4,35.5333333333333,35.8333333333333,35.85,37.6833333333333,37.8666666666667,38.8166666666667],"y":[31,23,15,2,16,116,62,15,32,55,11,2,23,4,1,4,23,33,1,33,13,2,110,158,5,16,28,18,3,52,40,69,8,8,1,62,2,1,23,10,6,27,2,15,147,11,3,1,4,14,5,10,4,23,35,46,3,8,3,3,1,4,29,67,17,19,1,13,60,42,12,14,74,54,12,38,4,5,22,1,24,22,18,8,12,35,12,30,29,18,2,11,41,4,1,13,4,6,67,227,12,21,3,9,93,101,31,6,7,92,18,12,10,8,2,4,50,74,61,49,11,1,1,3,1,1,4,1,20],"key":["40","44","49","65","71","75","81","83","85","88","103","105","110","114","117","120","122","127","134","137","140","142","143","144","146","148","149","152","158","160","162","168","174","175","178","179","187","190","195","199","200","201","206","208","211","212","215","217","219","220","222","223","226","227","232","233","234","235","237","238","239","240","246","247","248","250","251","252","255","256","261","263","266","269","271","272","274","278","279","280","283","284","285","287","291","292","293","294","295","298","302","305","310","313","314","316","319","320","321","322","326","330","331","334","336","337","338","340","341","343","348","349","350","352","353","354","356","360","364","367","369","370","371","372","373","374","379","381","383"],"set":"SharedData1644f27e","type":"scatter","mode":"markers","name":"F","marker":{"fillcolor":"rgba(102,194,165,0.5)","color":"rgba(102,194,165,1)","line":{"color":"transparent"}},"xaxis":"x","yaxis":"y","_isNestedKey":false,"frame":null},{"x":[15.9833333333333,16.9333333333333,17.4666666666667,17.9833333333333,18.3666666666667,18.5166666666667,18.5833333333333,18.75,18.9333333333333,19.05,19.15,19.3,19.3833333333333,19.4,19.6,19.75,19.7666666666667,19.7833333333333,19.8,19.8666666666667,20.0333333333333,20.0666666666667,20.2333333333333,20.3833333333333,20.6333333333333,20.65,20.75,20.8166666666667,20.9,20.95,21.1,21.1,21.2166666666667,21.2833333333333,21.3166666666667,21.3666666666667,21.3833333333333,21.3833333333333,21.4,21.4333333333333,21.4666666666667,21.5166666666667,21.7333333333333,21.7833333333333,21.85,21.9333333333333,21.95,22,22.0333333333333,22.1166666666667,22.1333333333333,22.1333333333333,22.15,22.2166666666667,22.2333333333333,22.2833333333333,22.3,22.45,22.4666666666667,22.5333333333333,22.6666666666667,22.6833333333333,22.7,22.7333333333333,22.8833333333333,22.9833333333333,23.05,23.1,23.1166666666667,23.2,23.3166666666667,23.3166666666667,23.35,23.4666666666667,23.4833333333333,23.5166666666667,23.65,23.6666666666667,23.7,23.75,23.9,23.9333333333333,24.1833333333333,24.25,24.35,24.4166666666667,24.4333333333333,24.45,24.45,24.5166666666667,24.5666666666667,24.7166666666667,24.7333333333333,24.9666666666667,25.1,25.1666666666667,25.2,25.4166666666667,25.4333333333333,25.5,25.5333333333333,25.5833333333333,26.0166666666667,26.1333333333333,26.2166666666667,26.2666666666667,26.3,26.3166666666667,26.3333333333333,26.35,26.5166666666667,26.6333333333333,26.7166666666667,26.7833333333333,26.9333333333333,26.9666666666667,27.05,27.1666666666667,27.3,27.4833333333333,27.6166666666667,27.9333333333333,28.5,28.6333333333333,29.05,29.0833333333333,29.1166666666667,29.1666666666667,29.3666666666667,29.4,29.6166666666667,29.9333333333333,30.8,31.4833333333333,32.4833333333333,33.7333333333333,34.3833333333333,37.3833333333333,38.6],"y":[16,217,25,58,34,6,110,170,82,8,40,36,1,131,8,2,1,2,2,7,25,4,55,41,8,41,71,247,94,2,242,11,49,3,74,4,6,135,53,3,67,4,12,42,1,14,6,330,59,28,12,84,97,122,3,2,35,23,44,278,11,19,4,69,13,38,14,16,9,97,13,8,215,99,12,21,4,9,6,23,1,7,4,5,69,18,10,2,61,16,3,2,97,108,9,23,1,1,2,28,17,18,399,15,29,1,34,115,133,3,57,2,3,19,12,21,19,249,1,113,1,19,11,13,10,9,87,193,4,25,1,47,11,215,27,11,65,141,3],"key":["1","2","3","5","6","7","8","9","10","11","13","14","16","17","20","21","22","23","24","26","27","28","29","30","34","35","36","37","38","39","42","43","45","47","48","50","51","52","53","55","56","58","62","64","67","70","72","73","74","76","77","78","79","82","84","86","87","91","92","93","96","97","98","99","106","107","108","111","113","116","118","119","121","124","125","126","129","130","131","132","135","136","145","147","151","154","155","156","157","159","161","165","166","170","173","177","180","183","184","188","191","193","203","205","207","210","213","214","216","218","224","229","231","236","244","245","249","253","257","259","262","270","282","286","299","300","301","303","308","309","315","324","333","342","351","366","368","378","382"],"set":"SharedData1644f27e","type":"scatter","mode":"markers","name":"M","marker":{"fillcolor":"rgba(141,160,203,0.5)","color":"rgba(141,160,203,1)","line":{"color":"transparent"}},"xaxis":"x","yaxis":"y","_isNestedKey":false,"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"ctGroups":["SharedData1644f27e"]},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
</div>
</div>
</div>
</div>
<div id="predicting-finish-times" class="section level3">
<h3>Predicting Finish Times!</h3>
<p>Finally for a bit of fun I had a go at predicting the run times based on the information given by Park Run. I did a multiple linear regression model and found that the following were significant in predicting run times:</p>
<ol style="list-style-type: decimal">
<li>age / gender category,</li>
<li>whether a runner was part of a club or not</li>
<li>whether this run was their first time</li>
<li>Their previous personal best all to be signficant when predicting run times. (Because not all runners had a previous PB recorded I filled in the missing values with the median of the other runners based on gender.)</li>
</ol>
<p>The graph below shows the fitted values from the model plotted against the actual values with my run time highlighted!The model predicts my time to be almost 2 and half minutes slower. Although just from looking at the graph, the fit isn’t too bad!</p>
<p>Note: This regression was a bit of fun and I did not check all the model assumptions held &amp; evaluate the fit.</p>
<pre class="r"><code>model1 &lt;- lm(data=ParkRun, Time_mins~factor(Category)+factor(Club2)+factor(Type)+PB5)
t=fitted.values(model1)
t2 = filter(ParkRun, valid==2)
Combined = cbind(t, t2)
pal &lt;- c(&quot;red&quot;, &quot;skyblue&quot;)
plot_ly(data=Combined, x =~Time_mins, y=~t, color=~factor(me), alpha = 0.7, colors= pal)</code></pre>
<div id="23386bc6eff" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="23386bc6eff">{"x":{"visdat":{"233827f023c5":["function () ","plotlyVisDat"]},"cur_data":"233827f023c5","attrs":{"233827f023c5":{"x":{},"y":{},"color":{},"colors":["red","skyblue"],"alpha":0.7,"sizes":[10,100]}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"title":"Time_mins"},"yaxis":{"domain":[0,1],"title":"t"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[26.7833333333333],"y":[29.2357165059169],"type":"scatter","mode":"markers","name":"Me","marker":{"fillcolor":"rgba(255,0,0,0.349)","color":"rgba(255,0,0,0.7)","line":{"color":"transparent"}},"xaxis":"x","yaxis":"y","frame":null},{"x":[15.9833333333333,16.9333333333333,17.4666666666667,17.9833333333333,18.3666666666667,18.5166666666667,18.5833333333333,18.75,18.9333333333333,19.05,19.15,19.3,19.3833333333333,19.4,19.6,19.75,19.7666666666667,19.7833333333333,19.8,19.8666666666667,20.0333333333333,20.0666666666667,20.2333333333333,20.3833333333333,20.6333333333333,20.65,20.75,20.8166666666667,20.9,20.95,20.9666666666667,21.1,21.1,21.1166666666667,21.2166666666667,21.2833333333333,21.3166666666667,21.35,21.3666666666667,21.3833333333333,21.3833333333333,21.4,21.4333333333333,21.4666666666667,21.5166666666667,21.7333333333333,21.7833333333333,21.7833333333333,21.85,21.9333333333333,21.9333333333333,21.95,22,22.0333333333333,22.05,22.1166666666667,22.1333333333333,22.1333333333333,22.15,22.2,22.2166666666667,22.2333333333333,22.2333333333333,22.25,22.2833333333333,22.3,22.3166666666667,22.45,22.4666666666667,22.5333333333333,22.6666666666667,22.6833333333333,22.7,22.7333333333333,22.8333333333333,22.8666666666667,22.8833333333333,22.9833333333333,23.05,23.0833333333333,23.1,23.1166666666667,23.1333333333333,23.2,23.2833333333333,23.3166666666667,23.3166666666667,23.3333333333333,23.35,23.4166666666667,23.4666666666667,23.4833333333333,23.5166666666667,23.5833333333333,23.65,23.6666666666667,23.7,23.75,23.85,23.9,23.9333333333333,23.9666666666667,24.1,24.1166666666667,24.1333333333333,24.15,24.1833333333333,24.2,24.25,24.2666666666667,24.3166666666667,24.35,24.3833333333333,24.4166666666667,24.4333333333333,24.45,24.45,24.4833333333333,24.5166666666667,24.5333333333333,24.5666666666667,24.5833333333333,24.7166666666667,24.7333333333333,24.8,24.9666666666667,25.1,25.1166666666667,25.1333333333333,25.1666666666667,25.1666666666667,25.1833333333333,25.2,25.4166666666667,25.4333333333333,25.4833333333333,25.5,25.5166666666667,25.5333333333333,25.5833333333333,25.65,25.8,25.8166666666667,25.8333333333333,26.0166666666667,26.1333333333333,26.1833333333333,26.2166666666667,26.25,26.2666666666667,26.2833333333333,26.3,26.3,26.3166666666667,26.3166666666667,26.3333333333333,26.3333333333333,26.35,26.3666666666667,26.45,26.4833333333333,26.4833333333333,26.5166666666667,26.5666666666667,26.6166666666667,26.6333333333333,26.7166666666667,26.7333333333333,26.75,26.7666666666667,26.7833333333333,26.8,26.8166666666667,26.8333333333333,26.85,26.9333333333333,26.9666666666667,26.9833333333333,27,27.0166666666667,27.05,27.0666666666667,27.0833333333333,27.15,27.1666666666667,27.2166666666667,27.2333333333333,27.3,27.4833333333333,27.5833333333333,27.6166666666667,27.6833333333333,27.8333333333333,27.8833333333333,27.9333333333333,27.9833333333333,28,28.1,28.3166666666667,28.3666666666667,28.4666666666667,28.5,28.5666666666667,28.5666666666667,28.6166666666667,28.6333333333333,28.6666666666667,28.8833333333333,28.9166666666667,28.9333333333333,28.9666666666667,28.9833333333333,29.0333333333333,29.05,29.0833333333333,29.1166666666667,29.1333333333333,29.1666666666667,29.2166666666667,29.3666666666667,29.4,29.4166666666667,29.5833333333333,29.6,29.6166666666667,29.6666666666667,29.75,29.7666666666667,29.8,29.8666666666667,29.9333333333333,30.0833333333333,30.35,30.3666666666667,30.8,30.85,31.0166666666667,31.0833333333333,31.15,31.3166666666667,31.4333333333333,31.4833333333333,31.5666666666667,31.9833333333333,32.0333333333333,32.3833333333333,32.4833333333333,32.6333333333333,32.6666666666667,32.6666666666667,32.8,33.0166666666667,33.5833333333333,33.7333333333333,34.0666666666667,34.3833333333333,34.4333333333333,34.8,35.4,35.5333333333333,35.8333333333333,35.85,37.3833333333333,37.6833333333333,37.8666666666667,38.6,38.8166666666667],"y":[19.7650113640669,17.741570509952,21.2511925034314,18.5145862633106,18.477975505556,22.249670061944,18.7732493873582,20.1450193490683,19.2337361039628,18.5472560535749,20.7812551818689,21.7526215944361,24.7328374486871,19.6590710327654,23.7569632591063,22.2674363212334,24.7328374486868,22.2496700619438,23.7358512013083,20.6882392199771,22.5198497726566,19.9688907358335,21.9307635899541,22.1609444991483,23.7563553395605,20.3190377632139,20.6020311218437,21.0138289703844,21.2910035127158,21.3936157153938,25.3178617561922,23.0081491884244,20.3609677930473,28.2724577756316,18.6602003644486,23.2466563093224,21.6043767339891,26.2005739702524,22.7022799491192,21.4811092641665,24.9143023661666,21.3694922235223,23.7375182443296,22.5213113535588,22.2496700619438,21.6232731790178,23.7883744879644,26.2005739702524,22.7196073835064,23.295345177386,26.2005739702524,22.2757732309603,23.2066522550718,23.5383658353223,24.4536262280755,23.7569632591065,23.1610714307971,24.599347329248,23.7703264534188,22.700541124215,23.9923954610988,26.2005739702524,23.2466563093224,22.8645821696607,24.7328374486869,24.9274294201395,22.9495203601946,23.1779989809119,23.1834218133786,22.8785701641803,23.2466563093224,21.9357618293263,23.2466563093224,22.763841109811,23.9125174307345,27.6867551096169,25.0498466078955,22.9269114760387,20.7812551818689,23.1463696147295,23.0832384834848,23.2466563093224,26.2005739702524,24.9660463762704,27.6867551096169,23.4732728627142,23.0832384834848,26.7862766362671,19.0978517431152,26.2005739702524,24.1709429592422,24.0638206263188,22.5874512173072,28.5141996545793,23.6209098036154,23.0832384834848,25.0258540474069,25.0480668989932,27.6867551096169,24.7815263167505,24.2971422197832,23.3432188692644,24.2290405146713,27.7495353665525,23.5680312352985,23.0698809998034,23.7569632591065,29.2357165059169,25.4089571989739,24.0929625807248,24.7983390761415,26.3287588428262,26.2005739702524,25.242536478925,23.7358512013083,23.7358512013083,26.0662931701131,26.2005739702524,25.4615931515108,27.2644467989594,23.7569632591065,25.5693319897364,23.7569632591065,25.209576247969,26.0796640250136,26.837286083708,25.806319837884,28.2724577756316,26.7862766362671,25.3476354214742,29.2357165059169,23.469606608031,25.2431443984709,22.7196073835064,25.2431443984709,29.1194441127916,26.5408404125494,29.2357165059169,25.2483397924314,26.2984429742212,26.7176193078566,25.3476290550491,24.7923119769836,26.0991084327527,28.7692669341414,23.7563553395605,27.7495353665525,26.672073248906,27.1069630839294,23.7358512013083,25.2875046780028,27.1723507972601,28.7596891667455,24.8506941988882,26.3166666666667,20.0278874627836,27.6867551096169,22.2496700619438,26.7060603009019,26.5748274645453,27.2309916463283,26.4271905236442,25.951464438301,29.511809121566,26.0827043282081,23.7569632591065,25.1810794442521,26.9685265806529,26.2005739702524,26.2005739702524,27.5287508150642,29.2357165059169,26.2005739702524,27.6867551096169,26.2005739702524,26.7330426401421,26.8827949115155,26.1483207463864,27.1113178169263,27.7495353665525,24.7375607020026,26.218340229542,28.2724577756316,29.0573791585727,25.8038274973999,27.9989442567287,26.1483207463864,24.7328374486869,25.8038274973999,30.0003807939438,24.7328374486869,26.7176193078566,27.6867551096169,28.0840050826461,28.1666264713644,28.2724577756316,31.2957990060465,27.7067106781209,27.7495353665525,28.8221897871519,28.2724577756316,28.5622094013723,27.0669506008825,26.6568479872682,30.2237429473983,24.1102651031431,28.6666666666667,26.7862766362671,27.6034409532635,27.7495353665525,31.9259433714643,29.2292520975717,29.9118362562039,24.1531766999526,23.9882646527315,29.1166666666667,28.3136625462701,27.2637928018669,27.6867551096169,22.2496700619438,24.3590945081212,27.6867551096169,29.5330981903654,28.2724577756316,25.243144398471,27.7559229917546,27.7495353665525,27.8974010123012,29.0026349371422,28.9975631869224,25.8518680216773,29.5603744916577,31.3974605620785,30.0003807939438,27.7073115441164,30.3429264122073,31.0166666666667,28.5402797066997,26.5014084143012,31.3974605620785,31.2451521621588,25.903226117206,26.3507019087181,32.2841027895989,27.7495353665525,31.3375496902684,32.4833333333333,28.9534226235085,24.7321590901775,26.7862766362671,34.8923554121861,32.4218929563712,29.2657475533974,26.1148429081528,30.7708676606202,34.6091281520095,29.2357165059169,29.2357165059169,27.6867551096169,29.9112794227141,29.2357165059169,27.6867551096169,24.7328374486869,39.4411773352877,28.2724577756316,38.6000000000001,33.7276639895214],"type":"scatter","mode":"markers","name":"Not Me","marker":{"fillcolor":"rgba(135,206,235,0.349)","color":"rgba(135,206,235,0.7)","line":{"color":"transparent"}},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
</div>
</div>
